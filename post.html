<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>View Post</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
</head>
<body>
<h1 id="postTitle">Loading...</h1>
<div id="postContent"></div>

<script>
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_PROJECT.firebaseapp.com",
  projectId: "YOUR_PROJECT_ID",
};

firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

// Get slug from URL
const slug = window.location.pathname.split("/").pop();

db.collection("posts").where("slug", "==", slug).limit(1).get()
.then(snapshot => {
  if (snapshot.empty) {
    document.getElementById("postTitle").textContent = "Post not found.";
    return;
  }
  const post = snapshot.docs[0].data();
  document.getElementById("postTitle").textContent = post.title;
  document.getElementById("postContent").innerHTML = post.article;
})
.catch(err => {
  document.getElementById("postTitle").textContent = "Error loading post.";
  console.error(err);
});
</script>
</body>
</html>